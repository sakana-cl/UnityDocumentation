<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations &ndash; publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come." />
  <meta name="author" content="Unity Technologies" />
  <link rel="shortcut icon" href="http://unity3d.com/resources/favicons/favicon.ico" />
  <link rel="icon" type="image/png" href="http://unity3d.com/resources/favicons/favicon.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://unity3d.com/resources/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://unity3d.com/resources/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://unity3d.com/resources/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon-precomposed" href="http://unity3d.com/resources/favicons/apple-touch-icon.png">
	<!-- #TemplateBeginEditable name="doctitle" -->
		<title>Unity - Profiler (Pro only)</title>
	<!-- #TemplateEndEditable -->
	
	<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />
</head>
<body onLoad="DocLoaded();">

<div id="master-header" class="master-header" role="main-header">
  <div class="header-wrapper">
    <div class="top-nav">
      <ul>
        <li class="tn-icon"><a href="../../Documentation.html">Home</a></li>
        <!-- #TemplateBeginEditable name="sections-nav" -->
        <li class="Manual"><a href="../Manual/index.html" title="Go to Unity manual" class="scripting-anchor manual">Manual</a></li>
        <li class="Manual"><a href="../Components/index.html" title="Go to Reference" class="scripting-anchor reference">Reference</a></li>
        <li class="Manual"><a href="../ScriptReference/index.html" title="Go to Scripting Reference" class="scripting-anchor scripting">Scripting</a></li>
        <!-- #TemplateEndEditable --> 
      </ul>
    </div>
    <div class="sub-nav">
      <div class="content">
        <div class="path">
        <!-- #TemplateBeginEditable name="path" -->
			<a href="../Manual/index.html">Unity Manual</a><span>&gt;</span><a href="../Manual/Advanced.html">Advanced</a><span>&gt;</span><a href="../Manual/Profiler.html">Profiler (Pro only)</a>
        <!-- #TemplateEndEditable -->
        </div>
        <div class="switch">
        <!-- #TemplateBeginEditable name="switchLink" -->
        <!--BeginSwitchLink--><!--EndSwitchLink-->
        <!-- #TemplateEndEditable --> 
        </div>
      </div>
    </div>
  </div>
</div>

<div class="manual">
	<div class="main">

		<!-- #TemplateBeginEditable name="navigation" -->
		<div class="nav">
		<div class="nav-prev">
			<a href='../Manual/BuildPlayerPipeline.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Previous</div>
				<div class="nav-right"></div>
			</a>
		</div>
	
		<div class="nav-next">
			<a href='../Manual/Lightmapping.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Next</div>
				<div class="nav-right"></div>
			</a>
		</div>
	</div>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="title" -->
			<h1>Profiler (Pro only)</h1>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="body" -->
			
    <script src="../Images/showhide.js" type="text/javascript"></script>
    
<p>The Unity Profiler helps you to optimize your game.  It reports for you how much time is spent in the various areas of your game.  For example, it can report the percentage of time spent rendering, animating or in your game logic.
</p>
<p class='vspace'>You can play your game in the Editor with Profiling on, and it will record performance data. The Profiler window then displays the data in a timeline, so you can see the frames or areas that spike (take more time) than others. By clicking anywhere in the timeline, the bottom section of the Profiler window will display detailed information for the selected frame.
</p>
<p class='vspace'>Note that profiling has to <em>instrument</em> your code.  This instrumentation has a small impact on the performance of your game.  Typically this overhead is small enough to not affect the game framerate.  When using profiling it is typical to consider only the ratio (or percentage) of time spent in certain areas.  Also, to improve performance focus on those parts of the game that consume the most time.  Compare profiling results before and after code changes and determine the improvements you measure.  Sometimes changes you make to improve performance might have a negative effect on frame rate; unexpected consequences of code optimization should be expected.
</p>
<div class='vspace'></div><div><img class='figure' src='../Images/manual/Profiler-0.jpg' /><br /><em>Profiler window</em></div>
<div class='vspace'></div><h2>Attaching to Unity players</h2>
<p>To profile your game running on an other device or a player running on another computer, it is possible to connect the editor to that other player. The dropdown <b>Active Profiler</b> will show all players running on the local network. These players are identified by player type and the host name running the player "iPhonePlayer (Toms iPhone)".
To be able to connect to a player, the player must be launched with the <b>Development Build</b> checkbox found in the <b>Build Settings</b> dialog. From here it is also possible to tick a checkbox to make the Editor and Player Autoconnect at startup. 
</p>
<div class='vspace'></div><h2>Profiler Controls</h2>
<div><img class='figure' src='../Images/manual/Profiler-1.jpg' /></div>
<p class='vspace'>Profiler controls are in the toolbar at the top of the window. Use these to turn profiling on and off, navigate through profiled frames and so on.  The transport controls are at the far right end of the toolbar.  Note that when the game is running and the profiler is collecting data clicking on any of these transport controls will pause the game.  The controls go to the first recorded frame, step one frame back, step one frame forward and go to the last frame respectively.  The profiler does not keep all recorded frames, so the notion of the <em>first</em> frame should really be though of as the oldest frame that is still kept in memory.  The "current" transport button causes the profile statistics window to display data collected in real-time. The Active Profiler popup menu allows you to select whether profiling should be done in the editor or a separate player (for example, a game running on an attached iOS device).
</p>
<div class='vspace'></div><h3>Deep Profiling</h3>
<p>When you turn on <span class='doc-prop'>Deep Profile</span>, <em>all</em> your script code is profiled - that is, all function calls are recorded. This is useful to know where exactly time is spent in your game code.
</p>
<p class='vspace'>Note that Deep Profiling incurs a <b>very large overhead</b> and uses a lot of memory, and as a result your game will run significantly slower while profiling. If you are using complex script code, Deep Profiling might not be possible at all.  Deep profiling should work fast enough for small games with simple scripting.  If you find that Deep Profiling for your entire game causes the frame rate to drop so much that the game barely runs, you should consider not using this approach, and instead use the approach described below.  You may find deep profiling more helpful as you are designing your game and deciding how to best implement key features.  Note that for large games deep profiling may cause Unity to run out of memory and so for this reason deep profiling may not be possible.
</p>
<p class='vspace'>Manually profiling blocks of your script code will have a smaller overhead than using Deep Profiling. Use <a class='urllink' href='../ScriptReference/Profiler.BeginSample.html' rel='nofollow'>Profiler.BeginSample</a> and <a class='urllink' href='../ScriptReference/Profiler.EndSample.html' rel='nofollow'>Profiler.EndSample</a> scripting functions to enable and disable profiling around sections of code.
</p>
<div class='vspace'></div><h3>View SyncTime</h3>
<p>When running at a fixed framerate or running in sync with the vertical blank, Unity records the waiting time in "Wait For Target FPS". By default this amount of time is not shown in the profiler. To view how much time is spent waiting, you can toggle "View SyncTime". This is also a measure of how much headroom you have before losing frames.
</p>
<div class='vspace'></div><h2>Profiler Timeline</h2>
<div><img class='figure' src='../Images/manual/Profiler-2.jpg' /></div>
<p class='vspace'>The upper part of the Profiler window displays performance data over time. When you run a game, data is recorded each frame, and the history of the last several hundred frames is displayed. Clicking on a particular frame will display it's details in the lower part of the window. Different details are displayed depending on which timeline area is currently selected.
</p>
<p class='vspace'>The vertical scale of the timeline is managed automatically and will attempt to fill the vertical space of the window.  Note that to get more detail in say the CPU Usage area you can remove the Memory and Rendering areas.  Also, the splitter between the timeline and the statistics area can be selected and dragged downward to increase the screen area used for the timeline chart.
</p>
<p class='vspace'>The timeline consists of several areas: CPU Usage, Rendering and Memory. These areas can be removed by clicking the close button in the panel, and re-added again using the <em>Add Area</em> drop down in the Profile Controls bar.
</p>
<div class='vspace'></div><h2>CPU Usage Area</h2>
<div><img class='figure' src='../Images/manual/Profiler-3.jpg' /></div>
<p class='vspace'>The CPU Usage area displays where time is spent in your game. When it is selected, the lower pane displays hierarchical time data for the selected frame.
</p>
<div class='vspace'></div><ul><li><b>Hierarchy mode:</b> Displays hierarchical time data.
</li><li><b>Group Hierarchy mode:</b> Groups time data into logical groups (Rendering, Physics, Scripts etc.). Because children of any group can be in different group (e.g. some script might call rendering functions), the percentages of group times often add up to more than 100%.  (This is not a bug.)
</li></ul><p class='vspace'>The way the CPU chart is stacked can be reordered by simply dragging chart labels up &amp; down.
</p>
<p class='vspace'>When an item is selected in the lower pane, it's contribution to the CPU chart is highlighted (and the rest are dimmed). Clicking on an item again de-selects it.
</p>
<div class='vspace'></div><div><img class='figure' src='../Images/manual/Profiler-4.jpg' /><br /><em>Shader.SetPass is selected and it's contribution is highlighted in the chart.</em></div>
<p class='vspace'>In the hierarchical time data the self time refers to the amount of time spent in a particular function not including the time spent calling sub-functions.  In the screenshot above, for example 51.2% of time is spent in the Camera.Render function.  This function does a lot of work and calls the various drawing and culling functions.  Excluding all these functions only 0.8% of time is spent actually in the Camera.Render function.
</p>
<div class='vspace'></div><h2>Rendering Area</h2>
<div><img class='figure' src='../Images/manual/Profiler-5.jpg' /></div>
<p class='vspace'>The Rendering area displays rendering statistics. The Number of Draw Calls, Triangles and Vertices rendered is displayed graphical in the timeline. The Lower pane displays more rendering statistics and these more closely match the ones shown in the GameView <a href="../Manual/RenderingStatistics.html">Rendering Statistics</a> window.
</p>
<div class='vspace'></div><h2>Memory Area</h2>
<div><img class='figure' src='../Images/manual/Profiler-6.jpg' /></div>
<p class='vspace'>The Memory area displays some memory usage data:
</p><ul><li><span class='doc-prop'>Total Allocated</span> is the total RAM used by the application. Note that in the Unity Editor this is memory used by everything in the editor; game builds will use much less.
</li><li><span class='doc-prop'>Texture Memory</span> is the amount of video memory used by the textures in the current frame.
</li><li><span class='doc-prop'>Object Count</span> is the total number of Objects that are created. If this number rises over time then it means your game is creating some objects that are never destroyed.
</li></ul><p><a name='Audio' id='Audio'></a>
</p><h2>Audio Area</h2>
<div><img class='figure' src='../Images/manual/Profiler-7.jpg' /></div>
<p class='vspace'>The Audio area displays audio statistics:
</p><ul><li><span class='doc-prop'>Playing Sources</span> is the total playing sources in the scene at a specific frame. Monitor this to see if audio is overloaded. 
</li><li><span class='doc-prop'>Paused Sources</span> is the total paused sources in the scene at a specific frame.
</li><li><span class='doc-prop'>Audio Voice</span> is the actually number of audio (FMOD channels) voices used. PlayOneShot is using voices not shown in Playing Sources. 
</li><li><span class='doc-prop'>Audio Memory</span> is the total RAM used by the audio engine.
</li></ul><p class='vspace'>CPU usage can be seen in the bottom. Monitor this to see if Audio alone is taking up too much CPU.
</p>
<p class='vspace'><b>Note:</b> When an audio asset in Ogg Vorbis format is imported with the Compressed In Memory option, the memory usage reported by the profiler may be unexpectedly low. This happens for platforms that use FMOD audio - FMOD doesn't support Ogg Vorbis with the Compressed In Memory option, so the import setting is silently changed to Stream From Disk (which has much lower memory overheads).
</p>
<div class='vspace'></div><h2>Physics Area</h2>
<div><img class='figure' src='../Images/manual/Profiler-8.jpg' /></div>
<p class='vspace'>The Physics area shows the following statistics about the physics in the scene:-
</p><ul><li><span class='doc-prop'>Active Rigidbodies</span> is the number of rigidbodies that are not currently sleeping (ie, they are moving or just coming to rest).
</li><li><span class='doc-prop'>Sleeping Rigidbodies</span> is the number of rigidbodies that are completely at rest and therefore don't need to be updated actively by the physics engine (see <a href="../Components/RigidbodySleeping.html">Rigidbody Sleeping</a> for further details).
</li><li><span class='doc-prop'>Number of Contacts</span> is the total number of points of contact between all colliders in the scene.
</li><li><span class='doc-prop'>Static Colliders</span> is the number of colliders attached to non-rigidbody objects (ie, objects which never move under physics).
</li><li><span class='doc-prop'>Dynamic Colliders</span> is the number of colliders attached to rigidbody objects (ie, objects which do move under physics).
</li></ul><div class='vspace'></div><h2>GPU Area</h2>
<div><img class='figure' src='../Images/manual/Profiler-9.jpg' /></div>
<p class='vspace'>The GPU profiler is similar to the CPU profiler with the various contributions to rendering time shown as a hierarchy in the bottom panel. Selecting an item from the hierarchy will show a breakdown in the panel to the right.
</p>
<p class='vspace'>Please note that on the Mac, GPU profiling is only available under OSX 10.7 Lion and later versions.
</p>
<div class='vspace'></div><h2>See Also</h2>
<ul><li><a href="../Manual/OptimizingGraphicsPerformance.html">Optimizing Graphics Performance</a> page.
</li></ul><div class='vspace'></div>
<div class='vspace'></div><div class='specific-android' style='display: block;' id='specific-android' > 
<h2>Android</h2>
<p>Remote profiling can be enabled on Android devices through two different paths : WiFi or <a class='urllink' href='http://developer.android.com/guide/developing/tools/adb.html' rel='nofollow'>ADB</a>.
</p>
<p class='vspace'>For WiFi profiling, follow these steps:
</p><ol><li>Make sure to disable Mobile Data on your Android device.
</li><li>Connect your Android device to your WiFi network. 
</li><li>Check the "Autoconnect Profiler" checkbox in Unity's build settings dialog. 
</li><li>Attach your device to your Mac/PC via cable and hit "Build &amp; Run" in Unity Editor.
</li><li>When the app launches on the device, open the profiler window in Unity Editor (Window-&gt;Profiler)
</li><li>If the Unity Editor fails to autoconnect to the device, select the appropriate device from the Profiler Window <span class='doc-prop'>Active Profiler</span> drop down menu.
</li></ol><p><b>Note:</b> The Android device and host computer (running the Unity Editor) must both be on the same <a class='urllink' href='http://en.wikipedia.org/wiki/Subnetwork' rel='nofollow'>subnet</a> for the device detection to work.
</p>
<p class='vspace'>For ADB profiling, follow these steps:
</p><ul><li>Attach your device to your Mac/PC via cable and make sure ADB recognizes the device (i.e. it shows in <em>adb devices</em> list).
</li><li>Open a Terminal window / CMD prompt and enter
</li></ul><div class='indent'><code>adb forward tcp:54999 localabstract:Unity-&lt;insert bundle identifier here&gt;</code>
</div><ul><li>Check the "Development Build" checkbox in Unity's build settings dialog, and hit "Build &amp; Run".
</li><li>When the app launches on the device, open the profiler window in Unity Editor (Window-&gt;Profiler)
</li><li>Select the <em>AndroidProfiler(ADB@127.0.0.1:54999)</em> from the Profiler Window <span class='doc-prop'>Active Profiler</span> drop down menu.
</li></ul><p><b>Note:</b> The entry in the drop down menu is only visible when the selected target is Android.
</p>
<p class='vspace'>If you are using a firewall, you need to make sure that ports 54998 to 55511 are open in the firewall's outbound rules - these are the ports used by Unity for remote profiling.
</p>
<div class='vspace'></div></div>
<p><small>Page last updated: 2012-10-31</small></p>
		<!-- #TemplateEndEditable -->	

		<div class="nav">
		<div class="nav-prev">
			<a href='../Manual/BuildPlayerPipeline.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Previous</div>
				<div class="nav-right"></div>
			</a>
		</div>
	
		<div class="nav-next">
			<a href='../Manual/Lightmapping.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Next</div>
				<div class="nav-right"></div>
			</a>
		</div>
	</div>
	</div>
</div>
</body></html>
<!-- #EndTemplate -->
